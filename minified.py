exec("M='pip'\nG='PATH'\nF='P'\nimport venv,sys,inspect as N\nfrom subprocess import check_call as O,getoutput as P\nfrom os.path import realpath as C,dirname as Q,join as D,basename as H,isdir,splitext as R\nfrom os import environ as A,execvp as S\nI=next(reversed(N.stack())).frame\nE=C(I.f_globals['__file__'])\nT=Q(E)\nU=R(H(E))[0]\nB=D(T,'.'+U+'.venv')\nif not isdir(B):A[F]=G;venv.create(B,with_pip=True)\nJ=D(B,'bin')\nK=C(sys.executable)\nif K!=C(D(J,H(K))):A.update({'VIRTUAL_ENV':B,G:J+':'+A[G]});S(E,sys.argv)\nL=I.f_locals['deps']\n[O([M,'install',*(B)])for B in(('--upgrade',M,'setuptools','wheel'),L)if F in A]\n[P('pip install '+B)for B in L if F in A]")